
  <div class="section" id="loader">
<h1>Loader<a class="headerlink" href="#loader" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="grano.logic.loader.Loader">
<em class="property">class </em><tt class="descclassname">grano.logic.loader.</tt><tt class="descname">Loader</tt><big>(</big><em>project_slug</em>, <em>source_url=None</em>, <em>project_label=None</em>, <em>project_settings=None</em>, <em>account=None</em>, <em>ignore_errors=True</em><big>)</big><a class="reference internal" href="_modules/grano/logic/loader.html#Loader"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#grano.logic.loader.Loader" title="Permalink to this definition">¶</a></dt>
<dd><p>A loader is a factory object that can be used to make entities and 
relations in the database. It will perform some validation and handle 
database transactions.</p>
<dl class="method">
<dt id="grano.logic.loader.Loader.make_entity">
<tt class="descname">make_entity</tt><big>(</big><em>schemata</em>, <em>source_url=None</em><big>)</big><a class="reference internal" href="_modules/grano/logic/loader.html#Loader.make_entity"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#grano.logic.loader.Loader.make_entity" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an entity loader, i.e. a construction helper for entities.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>schemata</strong> &#8211; A list of schema names for all the schemata that the entity 
should be associated with.</li>
<li><strong>source_url</strong> &#8211; A URL which will be made the default source for all 
properties defined on this entity.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#grano.logic.loader.EntityLoader" title="grano.logic.loader.EntityLoader"><tt class="xref py py-class docutils literal"><span class="pre">EntityLoader</span></tt></a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="grano.logic.loader.Loader.make_relation">
<tt class="descname">make_relation</tt><big>(</big><em>schema</em>, <em>source</em>, <em>target</em>, <em>source_url=None</em><big>)</big><a class="reference internal" href="_modules/grano/logic/loader.html#Loader.make_relation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#grano.logic.loader.Loader.make_relation" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a relation loader, i.e. a construction helper for relations.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>schema</strong> &#8211; A schema name for the relation.</li>
<li><strong>source</strong> &#8211; An <a class="reference internal" href="#grano.logic.loader.EntityLoader" title="grano.logic.loader.EntityLoader"><tt class="xref py py-class docutils literal"><span class="pre">EntityLoader</span></tt></a> 
which has been used to construct the source entity.</li>
<li><strong>target</strong> &#8211; A second <a class="reference internal" href="#grano.logic.loader.EntityLoader" title="grano.logic.loader.EntityLoader"><tt class="xref py py-class docutils literal"><span class="pre">EntityLoader</span></tt></a> 
which has been used to construct the target entity. Cannot be identical to
the source.</li>
<li><strong>source_url</strong> &#8211; A URL which will be made the default source for all 
properties defined on this entity.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#grano.logic.loader.RelationLoader" title="grano.logic.loader.RelationLoader"><tt class="xref py py-class docutils literal"><span class="pre">RelationLoader</span></tt></a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="grano.logic.loader.Loader.persist">
<tt class="descname">persist</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/grano/logic/loader.html#Loader.persist"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#grano.logic.loader.Loader.persist" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the created entiites and relations, i.e. commit the database
transaction.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="entityloader">
<h1>EntityLoader<a class="headerlink" href="#entityloader" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="grano.logic.loader.EntityLoader">
<em class="property">class </em><tt class="descclassname">grano.logic.loader.</tt><tt class="descname">EntityLoader</tt><big>(</big><em>loader</em>, <em>schemata</em>, <em>source_url=None</em><big>)</big><a class="reference internal" href="_modules/grano/logic/loader.html#EntityLoader"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#grano.logic.loader.EntityLoader" title="Permalink to this definition">¶</a></dt>
<dd><p>A factory object for entities, used to set the schemata and 
properties for an entity.</p>
<dl class="method">
<dt id="grano.logic.loader.EntityLoader.save">
<tt class="descname">save</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/grano/logic/loader.html#EntityLoader.save"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#grano.logic.loader.EntityLoader.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the entity to the database. Do this only once, after all
properties have been set.</p>
</dd></dl>

<dl class="method">
<dt id="grano.logic.loader.EntityLoader.set">
<tt class="descname">set</tt><big>(</big><em>name</em>, <em>value</em>, <em>source_url=None</em><big>)</big><a class="headerlink" href="#grano.logic.loader.EntityLoader.set" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the value of a given property, optionally by attributing a 
source URL.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> &#8211; The property name. This must be defined as part of one
of the schemata that the entity or relation is associated with.</li>
<li><strong>value</strong> &#8211; The value to be set for this property. If it is
<tt class="docutils literal"><span class="pre">None</span></tt>, the property will not be set, but existing values of 
will be marked as inactive.</li>
<li><strong>source_url</strong> &#8211; A URL which will be set as the origin of this 
information.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="grano.logic.loader.EntityLoader.unique">
<tt class="descname">unique</tt><big>(</big><em>name</em>, <em>only_active=True</em><big>)</big><a class="headerlink" href="#grano.logic.loader.EntityLoader.unique" title="Permalink to this definition">¶</a></dt>
<dd><p>Define a unique field for this entity or relation. Each unique 
key will be used to decide whether a record already exists and can 
be updated, or whether a new one must be created.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> &#8211; The property name of the unique field.</li>
<li><strong>only_active</strong> &#8211; If set to <tt class="docutils literal"><span class="pre">False</span></tt>, the check will include all 
historic values of the property as well as the current value.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="relationloader">
<h1>RelationLoader<a class="headerlink" href="#relationloader" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="grano.logic.loader.RelationLoader">
<em class="property">class </em><tt class="descclassname">grano.logic.loader.</tt><tt class="descname">RelationLoader</tt><big>(</big><em>loader</em>, <em>schema</em>, <em>source</em>, <em>target</em>, <em>source_url=None</em><big>)</big><a class="reference internal" href="_modules/grano/logic/loader.html#RelationLoader"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#grano.logic.loader.RelationLoader" title="Permalink to this definition">¶</a></dt>
<dd><p>A factory object for relations, used to construct a relation by setting
its schema, source entity, target entity and a set of properties.</p>
<dl class="method">
<dt id="grano.logic.loader.RelationLoader.save">
<tt class="descname">save</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/grano/logic/loader.html#RelationLoader.save"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#grano.logic.loader.RelationLoader.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the relation to the database. Do this only once, after all
properties have been set.</p>
</dd></dl>

<dl class="method">
<dt id="grano.logic.loader.RelationLoader.set">
<tt class="descname">set</tt><big>(</big><em>name</em>, <em>value</em>, <em>source_url=None</em><big>)</big><a class="headerlink" href="#grano.logic.loader.RelationLoader.set" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the value of a given property, optionally by attributing a 
source URL.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> &#8211; The property name. This must be defined as part of one
of the schemata that the entity or relation is associated with.</li>
<li><strong>value</strong> &#8211; The value to be set for this property. If it is
<tt class="docutils literal"><span class="pre">None</span></tt>, the property will not be set, but existing values of 
will be marked as inactive.</li>
<li><strong>source_url</strong> &#8211; A URL which will be set as the origin of this 
information.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="grano.logic.loader.RelationLoader.unique">
<tt class="descname">unique</tt><big>(</big><em>name</em>, <em>only_active=True</em><big>)</big><a class="headerlink" href="#grano.logic.loader.RelationLoader.unique" title="Permalink to this definition">¶</a></dt>
<dd><p>Define a unique field for this entity or relation. Each unique 
key will be used to decide whether a record already exists and can 
be updated, or whether a new one must be created.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> &#8211; The property name of the unique field.</li>
<li><strong>only_active</strong> &#8211; If set to <tt class="docutils literal"><span class="pre">False</span></tt>, the check will include all 
historic values of the property as well as the current value.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>

